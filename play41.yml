---
- name: disable direct root logins using ssh
  hosts: all
  become: true
  remote_user: ansible
  tasks:
   - name: task to modify(replace) permit root logins in /etc/ssh/sshd_config file
     replace:
      path: /etc/ssh/sshd_config
      regexp: '^permitrootlogin yes'
      replace: 'permitrootlogin no'
      backup: yes
   - name: restart sshd daemon after changing conf file
     service:
      name: sshd
      state: restarted
...